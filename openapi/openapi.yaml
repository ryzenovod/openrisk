components:
  schemas:
    ApplicationFeatures:
      properties:
        age:
          maximum: 80.0
          minimum: 18.0
          title: Age
          type: integer
        credit_history_months:
          minimum: 0.0
          title: Credit History Months
          type: integer
        debt_to_income:
          maximum: 1.0
          minimum: 0.0
          title: Debt To Income
          type: number
        delinquencies:
          minimum: 0.0
          title: Delinquencies
          type: integer
        employment_years:
          minimum: 0.0
          title: Employment Years
          type: integer
        income:
          minimum: 0.0
          title: Income
          type: number
        interest_rate:
          minimum: 0.0
          title: Interest Rate
          type: number
        loan_amount:
          minimum: 0.0
          title: Loan Amount
          type: number
        loan_term_months:
          minimum: 1.0
          title: Loan Term Months
          type: integer
      required:
      - age
      - income
      - employment_years
      - debt_to_income
      - credit_history_months
      - delinquencies
      - loan_amount
      - loan_term_months
      - interest_rate
      title: ApplicationFeatures
      type: object
    DashboardMetrics:
      properties:
        approved_rate:
          title: Approved Rate
          type: number
        average_pd:
          title: Average Pd
          type: number
        portfolio_el:
          title: Portfolio El
          type: number
        total_applications:
          title: Total Applications
          type: integer
      required:
      - total_applications
      - approved_rate
      - average_pd
      - portfolio_el
      title: DashboardMetrics
      type: object
    DashboardResponse:
      properties:
        el_over_time:
          items:
            type: number
          title: El Over Time
          type: array
        job_durations:
          items:
            type: number
          title: Job Durations
          type: array
        metrics:
          $ref: '#/components/schemas/DashboardMetrics'
        pd_distribution:
          items:
            type: number
          title: Pd Distribution
          type: array
        recent_jobs:
          items:
            $ref: '#/components/schemas/JobResponse'
          title: Recent Jobs
          type: array
      required:
      - metrics
      - recent_jobs
      - pd_distribution
      - el_over_time
      - job_durations
      title: DashboardResponse
      type: object
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          title: Detail
          type: array
      title: HTTPValidationError
      type: object
    JobCreateRequest:
      properties:
        applications:
          default: []
          items:
            $ref: '#/components/schemas/ApplicationFeatures'
          title: Applications
          type: array
        budget:
          default: 100000
          title: Budget
          type: number
        job_type:
          title: Job Type
          type: string
      required:
      - job_type
      title: JobCreateRequest
      type: object
    JobEventResponse:
      properties:
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: integer
        job_id:
          title: Job Id
          type: integer
        level:
          title: Level
          type: string
        message:
          title: Message
          type: string
      required:
      - id
      - job_id
      - created_at
      - level
      - message
      title: JobEventResponse
      type: object
    JobResponse:
      properties:
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: integer
        job_type:
          title: Job Type
          type: string
        payload:
          title: Payload
          type: string
        progress:
          title: Progress
          type: number
        status:
          title: Status
          type: string
        updated_at:
          format: date-time
          title: Updated At
          type: string
      required:
      - id
      - job_type
      - status
      - progress
      - created_at
      - updated_at
      - payload
      title: JobResponse
      type: object
    ScoreResponse:
      properties:
        expected_loss:
          title: Expected Loss
          type: number
        pd:
          title: Pd
          type: number
        recommendation:
          title: Recommendation
          type: string
        top_factors:
          items:
            type: string
          title: Top Factors
          type: array
      required:
      - pd
      - expected_loss
      - recommendation
      - top_factors
      title: ScoreResponse
      type: object
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
            - type: string
            - type: integer
          title: Location
          type: array
        msg:
          title: Message
          type: string
        type:
          title: Error Type
          type: string
      required:
      - loc
      - msg
      - type
      title: ValidationError
      type: object
info:
  description: Information system for credit risk assessment and optimization with
    AI.
  title: Credit Risk MVP
  version: 0.1.0
openapi: 3.1.0
paths:
  /api/v1/dashboard:
    get:
      operationId: dashboard_api_v1_dashboard_get
      parameters:
      - in: query
        name: api_key
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Api Key
      - in: header
        name: x-api-key
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: X-Api-Key
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DashboardResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Dashboard
      tags:
      - api
  /api/v1/jobs:
    get:
      operationId: list_jobs_api_v1_jobs_get
      parameters:
      - in: query
        name: api_key
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Api Key
      - in: header
        name: x-api-key
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: X-Api-Key
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/JobResponse'
                title: Response List Jobs Api V1 Jobs Get
                type: array
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: List Jobs
      tags:
      - api
    post:
      operationId: create_job_endpoint_api_v1_jobs_post
      parameters:
      - in: query
        name: api_key
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Api Key
      - in: header
        name: x-api-key
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: X-Api-Key
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JobCreateRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Create Job Endpoint
      tags:
      - api
  /api/v1/jobs/{job_id}:
    get:
      operationId: get_job_api_v1_jobs__job_id__get
      parameters:
      - in: path
        name: job_id
        required: true
        schema:
          title: Job Id
          type: integer
      - in: query
        name: api_key
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Api Key
      - in: header
        name: x-api-key
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: X-Api-Key
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Get Job
      tags:
      - api
  /api/v1/jobs/{job_id}/events:
    get:
      operationId: stream_job_events_api_v1_jobs__job_id__events_get
      parameters:
      - in: path
        name: job_id
        required: true
        schema:
          title: Job Id
          type: integer
      - in: query
        name: last_event_id
        required: false
        schema:
          anyOf:
          - type: integer
          - type: 'null'
          title: Last Event Id
      - in: query
        name: api_key
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Api Key
      - in: header
        name: x-api-key
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: X-Api-Key
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/JobEventResponse'
                title: Response Stream Job Events Api V1 Jobs  Job Id  Events Get
                type: array
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Stream Job Events
      tags:
      - api
  /api/v1/score:
    post:
      operationId: score_api_v1_score_post
      parameters:
      - in: query
        name: api_key
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Api Key
      - in: header
        name: x-api-key
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: X-Api-Key
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplicationFeatures'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScoreResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Score
      tags:
      - api
  /health:
    get:
      operationId: health_health_get
      responses:
        '200':
          content:
            application/json:
              schema:
                title: Response Health Health Get
                type: object
          description: Successful Response
      summary: Health
servers:
- description: Local backend
  url: http://localhost:8000
tags:
- description: Core API endpoints
  name: api
